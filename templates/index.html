<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Microsoft Accessibility Chatbot</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <div id="chat">
        <p><strong>System:</strong>Ask me anything about Microsoft accessibility.</p>
    </div>
    <form id="chat-form" method="POST">
        <input type="text" id="message-input" placeholder="Your message here...">
        <input type="submit" value="Send">
    </form>

    <script>
    $('#chat-form').on('submit', function(e) {
        e.preventDefault();

        var message = $('#message-input').val();
        $('#message-input').val('');
        
        $('#chat').append('<p><strong>You:</strong> ' + message + '</p>');
        $('#chat').append('<p id="waiting"><strong>Assistant:</strong>Fetching information...</p>');

        $.ajax({
            url: '/ask',
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ 'message': message }),
        }).done(function(data) {
            $('#waiting').remove();
            $('#chat').append('<p><strong>Assistant:</strong> ' + data.content + '</p>');
        }).fail(function() {
            $('#waiting').text('Something went wrong. Try again later.');
        });
    });
    </script>
</body>
</html>
